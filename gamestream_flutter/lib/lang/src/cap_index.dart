int capIndex(List<int> values, int index){
  return index < values.length ? values[index] : values.last;
}